{% extends 'base.html' %}

{% block content %}
<h2>Connected Devices</h2>
<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th>Device ID</th>
      <th>Last Seen</th>
      <th>Assigned Firmware</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for device in devices %}
    <tr>
      <td>{{ device['device_id'] }}</td>
      <td>{{ device['last_seen'] }}</td>
      <td>{{ device['firmware_version'] or 'None' }}</td>
      <td>
        <a href="{{ url_for('assign_firmware', device_id=device['device_id']) }}" class="btn btn-primary btn-sm">Assign Firmware</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
