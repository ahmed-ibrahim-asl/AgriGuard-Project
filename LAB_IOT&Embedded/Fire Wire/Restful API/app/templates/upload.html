{% extends 'base.html' %}

{% block content %}
<h2>Upload New Firmware</h2>
<form method="post" enctype="multipart/form-data" class="mt-4">
  <div class="form-group">
    <label for="version">Firmware Version:</label>
    <input type="text" class="form-control" name="version" required />
  </div>
  <div class="form-group">
    <label for="device_id">Assign to Device (optional):</label>
    <select class="form-control" name="device_id">
      <option value="">Global Firmware</option>
      {% for device in devices %}
      <option value="{{ device[0] }}">{{ device[0] }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label for="file">Firmware File (.bin):</label>
    <input
      type="file"
      class="form-control-file"
      name="file"
      accept=".bin"
      required
    />
  </div>
  <button type="submit" class="btn btn-primary">Upload</button>
</form>
{% endblock %}
